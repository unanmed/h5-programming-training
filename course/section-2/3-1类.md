# 类

## 类的声明

在es6之前，我们为了声明一个`Person`类需要这样做

```js
var Person = function (sex) {
    this.sex = sex
    this.name = 'person'
}
Person.prototype.say = function () {
    console.log(this.sex)
}
var man = new Person('man')
```

这种做法非常不直观，完全看不出一个`类`该有的模样。

es6推出了`class`关键字，用于代替上面这种做法。

**注意，`class`关键字只是语法糖！它的各种功能在es6之前也是基本都能实现的，`class`关键字只是为了方便阅读！**

于是，上面的es5写法可以用`class`改写成下面这样：

```js
class Person {
    name = 'person'
    constructor(sex) {
    	this.sex = sex
  	}
    say(){
        console.log(this.sex)
    }
}
let man = new Person('man')
```

`constructor`是`class`内部独有的关键字，直译过来就是构造函数。

在一个类被`new`的时候，便会触发该函数，因此该函数一般用于初始化。不过，`constructor`并不是必需的。

在写法上，`class`类似于对象，但是它的属性之间是不能有`,`的，有了反而会报错。

## 静态属性

我们可以在类的属性前面加入`static`关键字，声明这个属性是静态的。

```js
class Person {
    static NAME = 'person' // 这个属性现在是静态的了！
    constructor(sex) {
    	this.sex = sex
  	}
    say(){
        console.log(this.sex)
    }
}
// 现在，我们可以在类的本体上直接读取静态方法！
Person.NAME // 'person'
```

## 类的继承

类之间的继承，使用`extends`关键字。

```js
class Person {
    constructor(sex) {
    	this.sex = sex
  	}
    say(){
        console.log(this.sex)
    }
}
class Man extends Person {
    names = 'a'
}
let man = new Man('man')
// 这里需要注意的是，我们并未给Man这个类实现constructor方法，相当于Man的constructor等于Person身上的！
// 因此，new Man的时候仍然需要传一个sex参数。
man.say() // 'man' 这是从Person身上继承的
man.sex   // 'man' 这是从Person身上继承的
man.names // 'a' 这是自身的新属性！
```

然而，很多时候我们都需要添加一个新的`constructor`方法，此时我们应该写成这样：

```js
class Person {
    constructor(sex) {
    	this.sex = sex
  	}
    say(){
        console.log(this.sex)
    }
}
class Man extends Person {
    constructor(names){
        super('woman') 
        // 注意这个super关键词！它用于调用父类(即Person)的构造函数！
        // 并且，一旦你为子类声明了constructor属性，它的内部就必须要调用super函数
        // super必须位于constructor函数内部，且必须出现在this之前。
        this.names = names
    }
}
let man = new Man('man')
man.sex // woman
man.names // man
```

## 私有属性

有时，父类身上的一些属性我们是不想让它暴露出来的。

我们可以在属性前面加上`#`符号，声明这个属性是私有的。

```js
class Person {
	a = 1
    #b = 2
    static c = 3
}
class Man extends Person {
    
}
let man = new Man()
man.a // 1
man.#b // undefined 私有属性无法被继承
man.c // undefined 静态属性只能在类本身上访问
Man.c // 3
Person.c // 3
```

