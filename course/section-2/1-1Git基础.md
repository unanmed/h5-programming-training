# Git 基础使用

## Git 是什么？

Git 是一个分布式的版本控制工具，做个简单的比方，它是编写代码时的存档功能，由此不难看出其重要性（你能想象玩魔塔时不允许存档吗）。除了代码，一些人也会把 Git 用于论文和小说的写作，Git。

> 你也许听说过一个叫 github 的著名同性交友网站，不过，Git 和 github 并不是同一个东西（你可以把 github 理解为存档同步功能，不过它比存档同步强很多），我们将在下节课介绍 github。

## 安装 Git

你可以在 [Git 官网](https://git-scm.com/)上简单的进行下载（看到右下电脑上那个 download 按钮了吗，按一下就行），随后只要一路 next 即可完成安装。

## 基于命令行使用 Git

git 很可能是你安装的第一个程序员专用软件，与面向一般用户的软件相比，Git 提供了一种非常专业的方式来操控软件，它被称为命令行，在电影中，黑客都是通过命令行入侵各种系统的（

你可以在 VSCode 中打开命令行，在顶栏上找到 终端(Terminal) 选项卡，打开后找到 新建终端(New Terminal) 选项卡点击，这样，下方会弹出一个黑色窗口，这就是命令行了。作为第一条命令，你可以输入 `git --version`，如果你正确安装了 Git，会显示你安装的 Git 的版本。

接下来，你可以输入下面两条指令（记得把用户名和邮箱替换成你的），你可以按鼠标右键在命令行中粘贴指令，这样比较方便。

```
git config --global user.name <你的用户名>
git config --global user.email <你的邮箱>
```

这两条指令标记了你在 Git 中的名称和邮箱，在多人协作中，这有助于定位到每一行代码的写作者。

我们的命令行之旅到此就告一段落了，接下来的操作将由 VSCode 代劳。

## 使用 VSCode 提供的 Git 工具

VSCode 提供了一套用于操作 Git 的工具，要使用它，首先需要在 VSCode 中打开一个文件夹，接着，你可以在左侧栏上找到版本控制选项卡，如果这个文件夹是你刚刚创建的空文件夹，那么，你将会看到 `初始化存储库` 按钮，点击按钮，这个文件夹就会变成一个 `git仓库`。

### 查看任何变动

尝试在这个文件夹里新建一个文件(例如说 `a.js`)，随后你可以看到 Git 选项卡上出现了一个小标记 (1)，这代表你进行了一个改动，同时这个文件在文件树中也会显示为绿色并在后面出现一个字母U(Untracked)，代表该文件是你新创建的文件。

### 提交修改 

在版本控制选项卡中点击 提交(commit) 按钮，会弹框提示你是否直接将所有变动提交，如果选择是，你的所有修改将会被保存，这样，`a.js`将不再会被显示为新增文件，或者，你也可以一个个添加你需要的修改，然后点击 提交，此时将不再会弹框。

你可以在文本框中输入提交信息，用来标注此次提交的改动范围。

### 撤销修改

如果你点击旁边的撤销按钮，你所做的修改将会消失（在本例子中，`a.js` 将不复存在），你可以只撤销一些指定的修改，或者全部撤销，这样，这个文件夹会回到上次提交时的状态。

### 基于行的修改

git 不止能检测文件的新增和删除，它还可以以行为单位显示文本文件的修改。如果你已经提交了 `a.js` 现在你可以尝试在其中增加一段话，例如 `hello world`，在这之后，你会发现文件树中这个文件变为黄色，并出现了一个字母M(Modified)，代表该文件有改动。

你可以在版本控制选项卡中点击这个文件，这会打开一个 diff 标签，展示文件修改前后的状态，在普通的编辑模式下，编辑界面左侧也会有相应的显示，绿色竖条代表新增行，蓝色竖条代表修改行，红色小三角代表被删除行，这样你可以精确的掌握文件的变化，并可以以行为单位进行撤销操作。

熟练运用这几个操作，编程工作会变得轻松很多，例如说，现在你可以直接修改libs，并随时查看你具体进行了什么修改，或者进行一些危险的重构，如果遇到样板无法打开的情况，可以回退到上一个提交。

## gitignore

有些时候，我们想让 git 忽略某些文件（例如说，样板的存档/编辑器配置/打包后的资源），在这种情况下，我们可以在文件夹中创建一个名为 `.gitignore` 的文件，并在该文件中一行行标明需要忽略的内容。

```ignore
# 以 # 开始的部分会被视为注释
a.txt        # 可以指定忽略某个文件
saves        # 也可以忽略文件夹
*.js         # 可以用通配符来匹配有指定后缀的文件
_server/*.js # 可以组合使用
```
